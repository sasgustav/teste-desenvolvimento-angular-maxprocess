<nav class="header-nav" aria-label="Menu principal" role="navigation">
  <p-menubar [model]="items" class="app-menubar" role="menubar" aria-label="Menu principal">
    <ng-template pTemplate="start">
      <button
        type="button"
        class="menu-toggle p-link"
        (click)="toggleMobileMenu()"
        (keydown.enter)="toggleMobileMenu()"
        [attr.aria-expanded]="mobileMenuVisible"
        aria-label="Abrir menu"
      >
        <i class="pi pi-bars"></i>
      </button>
      <div class="brand" role="img" aria-label="Logo">
        <i class="pi pi-briefcase logo-icon"></i>
        <span class="title">{{ title }}</span>
      </div>
    </ng-template>
    <ng-template pTemplate="item" let-item>
      <a
        pMenuitem
        [item]="item"
        [pTooltip]="isTablet ? item.label : null"
        tooltipPosition="bottom"
        (click)="handleItemCommand(item, $event)"
        (keydown.enter)="handleItemCommand(item, $event)"
      ></a>
    </ng-template>
    <ng-template pTemplate="end">
      <div class="profile">
        <ng-container *ngIf="userAvatar; else defaultAvatar">
          <img [src]="userAvatar" alt="Avatar" class="avatar-icon" />
        </ng-container>
        <ng-template #defaultAvatar>
          <i class="pi pi-user avatar-icon"></i>
        </ng-template>
        <span class="username">{{ userName }}</span>
      </div>
    </ng-template>
  </p-menubar>

  <p-sidebar
    [(visible)]="mobileMenuVisible"
    position="left"
    [baseZIndex]="10000"
    class="mobile-sidebar"
    aria-label="Menu mÃ³vel"
    ariaCloseLabel="Fechar menu"
    (onHide)="closeMobileMenu()"
  >
    <p-panelMenu
      [model]="items"
      class="mobile-panel-menu"
      (onNodeSelect)="closeMobileMenu()"
    ></p-panelMenu>
  </p-sidebar>
</nav>
